#!/bin/bash
# Distance Attack - –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –∑–∞–ø—É—Å–∫ –¥–ª—è Linux

echo "==================================="
echo "Distance Attack - –û–≤–µ—Ä–ª–µ–π –¥–∏—Å—Ç–∞–Ω—Ü–∏–π"
echo "–ë–ï–ó–û–ü–ê–°–ù–´–ô –†–ï–ñ–ò–ú –î–õ–Ø LINUX"
echo "==================================="
echo

# –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–∏—Å—Ç–µ–º—É
if [[ "$OSTYPE" == "linux-gnu"* ]]; then
    echo "‚ö†Ô∏è  –í–ù–ò–ú–ê–ù–ò–ï: –í—ã –∑–∞–ø—É—Å–∫–∞–µ—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É –Ω–∞ Linux!"
    echo "   –í —ç—Ç–æ–º —Ä–µ–∂–∏–º–µ:"
    echo "   - –û–∫–Ω–æ –ù–ï –±—É–¥–µ—Ç –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–º"
    echo "   - –û—Å—Ç–∞–≤–ª–µ–Ω—ã —ç–ª–µ–º–µ–Ω—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ–∫–Ω–æ–º"
    echo "   - –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫—Ä–∞—Å–Ω–∞—è –∫–Ω–æ–ø–∫–∞ –≤—ã—Ö–æ–¥–∞"
    echo "   - –î–æ—Å—Ç—É–ø–Ω—ã –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≥–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏"
    echo
    echo "üîë –°–ø–æ—Å–æ–±—ã –≤—ã—Ö–æ–¥–∞ –∏–∑ –ø—Ä–æ–≥—Ä–∞–º–º—ã:"
    echo "   - ESC"
    echo "   - Ctrl+C"
    echo "   - Ctrl+Q" 
    echo "   - Alt+F4"
    echo "   - –ö—Ä–∞—Å–Ω–∞—è –∫–Ω–æ–ø–∫–∞ ‚úï –í–´–•–û–î –≤ –ª–µ–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É"
    echo "   - –ö–Ω–æ–ø–∫–∞ X –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ –æ–∫–Ω–∞"
    echo
    echo "‚ùì –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å? (y/N)"
    read -r response
    if [[ ! "$response" =~ ^[Yy]$ ]]; then
        echo "–ó–∞–ø—É—Å–∫ –æ—Ç–º–µ–Ω–µ–Ω."
        exit 0
    fi
fi

# –ü—Ä–æ–≤–µ—Ä–∫–∞ Python
if ! command -v python3 &> /dev/null; then
    echo "‚ùå Python3 –Ω–µ –Ω–∞–π–¥–µ–Ω. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Python 3.6+"
    exit 1
fi

# –ü—Ä–æ–≤–µ—Ä–∫–∞ tkinter
python3 -c "import tkinter" 2>/dev/null
if [ $? -ne 0 ]; then
    echo "‚ùå tkinter –Ω–µ –Ω–∞–π–¥–µ–Ω. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ: sudo apt-get install python3-tk"
    exit 1
fi

echo "‚úÖ –í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –Ω–∞–π–¥–µ–Ω—ã"
echo "üöÄ –ó–∞–ø—É—Å–∫ Distance Attack –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º —Ä–µ–∂–∏–º–µ..."
echo

# –ó–∞–ø—É—Å–∫ –ø—Ä–æ–≥—Ä–∞–º–º—ã
timeout 300 python3 main.py &  # –ê–≤—Ç–æ–≤—ã–∫–ª—é—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ 5 –º–∏–Ω—É—Ç
PID=$!

echo "üìã –ü—Ä–æ–≥—Ä–∞–º–º–∞ –∑–∞–ø—É—â–µ–Ω–∞ (PID: $PID)"
echo "‚è∞ –ê–≤—Ç–æ–≤—ã–∫–ª—é—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ 5 –º–∏–Ω—É—Ç"
echo "üõë –î–ª—è –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–π –æ—Å—Ç–∞–Ω–æ–≤–∫–∏: kill $PID"
echo

# –ñ–¥–µ–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
wait $PID
echo "‚úÖ –ü—Ä–æ–≥—Ä–∞–º–º–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞" 